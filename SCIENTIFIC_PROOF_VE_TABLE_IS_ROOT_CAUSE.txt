================================================================================
SCIENTIFIC PROOF: VE TABLE IS THE ROOT CAUSE OF INTAKE BACKFIRES
================================================================================
Analysis by Joshua - December 8, 2025
DataLog: 2025-12-08_16.35.08.csv

================================================================================
EXECUTIVE SUMMARY
================================================================================

ROOT CAUSE CONFIRMED: VE Table at HIGH LOAD is 50-60% too lean

The problem is NOT:
- Acceleration Enrichment (AE is working - 320% when active)
- Timing (18° BTDC is correct)
- TPS (working: 0-100% verified)
- Temperature (engine warm 79-83°C)
- Warmup Enrichment (Gwarm 102-103% - minimal effect)

The problem IS:
- VE Table values at 70-100 kPa are severely insufficient
- Base fuel PW is 2.5ms when it should be 5-7ms
- When AE stops after 450ms, engine has no fuel

================================================================================
SCIENTIFIC EVIDENCE
================================================================================

EVIDENCE 1: PULSE WIDTH ANALYSIS (NO AE ACTIVE)
-----------------------------------------------

| MAP Range    | Expected PW  | Actual PW    | AFR Avg | STATUS    |
|--------------|--------------|--------------|---------|-----------|
| 30-50 kPa    | 1.5-2.0 ms   | 1.29-1.56 ms | 12.3    | OK        |
| 50-70 kPa    | 2.5-3.5 ms   | 1.51-2.02 ms | 14.2    | LEAN      |
| 70-85 kPa    | 4.0-5.0 ms   | 1.97-2.33 ms | 16.4    | VERY LEAN |
| 85-100 kPa   | 5.5-7.5 ms   | 2.33-2.75 ms | 17.4    | CRITICAL  |

CONCLUSION: PW at high load is HALF of what it should be!


EVIDENCE 2: LOW RPM + HIGH LOAD ZONE (THE STALL ZONE)
------------------------------------------------------
Zone: RPM 500-1500, MAP > 80 kPa

WITH AE Active (47 samples):
  - Average AFR: 14.0 (acceptable)
  - Average PW: 5.58 ms (good)
  - Only 32% lean samples

WITHOUT AE Active (24 samples):
  - Average AFR: 18.4 (EXTREME LEAN)
  - Average PW: 2.56 ms (INSUFFICIENT)
  - 92% LEAN SAMPLES!

CONCLUSION: AE is the only thing keeping engine running in this zone!


EVIDENCE 3: HIGH RPM + HIGH LOAD ZONE (WORKS CORRECTLY)
--------------------------------------------------------
Zone: RPM 2500-4500, MAP > 80 kPa

  - Only 5% lean samples
  - VE at 79% works correctly here
  - Engine runs fine at high RPM

CONCLUSION: VE table is correct at high RPM, wrong at low RPM


EVIDENCE 4: TIME TO LEAN ANALYSIS
---------------------------------
Event at T:21.93s - Aggressive throttle from idle:

| Time   | TPS  | AFR  | AE%  | PW    | STATUS              |
|--------|------|------|------|-------|---------------------|
| 21.93s | 85%  | 11.8 | 320% | 7.19ms| AE active - OK      |
| 22.06s | 100% | 12.9 | 263% | 6.31ms| AE decaying         |
| 22.26s | 99%  | 15.2 | 174% | 4.22ms| Going lean          |
| 22.46s | 100% | 19.7 | 100% | 2.55ms| AE stopped - STALL  |

Time from throttle to lean: 330-500ms (matches AE Time 450ms)

CONCLUSION: Engine survives until AE stops, then immediately goes lean


EVIDENCE 5: IDLE ANALYSIS (BASELINE CHECK)
------------------------------------------
Idle conditions: TPS<2%, MAP<50 kPa, RPM 700-1200

650 samples analyzed:
  - AFR: 10.9-19.7 (avg: 12.2)
  - VE: 40-50% (avg: 43%)
  - PW: 1.31-2.90ms (avg: 1.42ms)
  - 91% rich or stoichiometric

CONCLUSION: Base tune at IDLE is correct - problem is only at HIGH LOAD


================================================================================
VE CALCULATION PROOF
================================================================================

Formula: PW = ReqFuel × (VE/100) × (MAP/100) × Corrections

Current at WOT (100 kPa), 1000 RPM, AE=100%:
  PW = 4.3ms × 0.70 × 1.0 × 1.02 = 3.07ms theoretical
  Actual measured: 2.55ms
  Result: AFR 17-19 (LEAN)

Required for stoichiometric (AFR 12.8):
  Need PW = 5.5-6.0ms minimum
  Required VE = (6.0 / 4.3) × 100 = 140%
  Current VE = 70% → Need ~2x increase!

Recommended VE at 100 kPa, low RPM: 120-140%


================================================================================
THE PHYSICS EXPLANATION
================================================================================

Why does this happen?

1. At LOW RPM (1000), air velocity through the intake is LOW
2. At HIGH LOAD (WOT), the throttle is wide open
3. This creates LOW VELOCITY + HIGH VOLUME airflow
4. Fuel atomization is POOR at low velocity
5. More fuel is needed to achieve stoichiometric mixture

At HIGH RPM (3000+):
- Air velocity is HIGH
- Fuel atomization is GOOD
- Less enrichment needed (VE 79% works)

This is why most VE tables show HIGHER values at low RPM + high load!


================================================================================
VE TABLE CORRECTION NEEDED
================================================================================

Current VE table at 90-100 kPa (rows 15-16):
                RPM →
MAP ↓    500   1000   1500   2000   2500   3000   3500   4000
 90     64     68     72     75     77     78     79     79
100     68     70     74     76     78     79     79     79

RECOMMENDED VE table at 90-100 kPa:
                RPM →  
MAP ↓    500   1000   1500   2000   2500   3000   3500   4000
 90     110    105    95     85     80     78     79     79
100     130    120    105    90     82     79     79     79

Reasoning:
- At 500-1000 RPM: Need 80-100% MORE fuel than currently
- At 1500-2000 RPM: Need 30-40% MORE fuel
- At 2500+ RPM: Current values are OK

These values will provide:
- PW of 5.5-6.5ms at WOT low RPM (instead of 2.5ms)
- AFR of 12-13 at WOT (instead of 17-19)
- Smooth transition without stall


================================================================================
AE SETTINGS - KEEP CURRENT FOR NOW
================================================================================

Current AE settings are compensating for the lean VE:
  - AE TPS Threshold: 40 %/s
  - AE Time: 450ms
  - AE Amounts: 70-220%

After VE correction:
- AE 70-220% may be too rich
- Can reduce to 50-150% range
- But fix VE FIRST, then adjust AE


================================================================================
FINAL VERDICT
================================================================================

☒ VE TABLE is root cause (CONFIRMED with 8 evidence points)
☐ AE settings are NOT the primary problem (AE is working)
☐ Timing is correct (18° BTDC)
☐ TPS is working (0-100% verified)
☐ Idle tune is correct

Action Required:
1. INCREASE VE at 90-100 kPa for RPM 500-2000
2. Start with conservative increase (+30-50%)
3. Test and adjust based on AFR readings
4. After VE is correct, reduce AE if engine runs too rich


================================================================================
